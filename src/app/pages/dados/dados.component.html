<br><br>

<div class="overflow-x-auto rounded-lg shadow-lg bg-white mt-4">
  <table class="min-w-full divide-y divide-gray-200">
    <thead class="bg-gradient-to-r from-blue-800 to-blue-600">
      <tr>
        <th class="px-6 py-3 text-left text-xs font-semibold text-white tracking-wider">Foto</th>
        <th class="px-6 py-3 text-left text-xs font-semibold text-white tracking-wider">Nome</th>
        <th class="px-6 py-3 text-left text-xs font-semibold text-white tracking-wider">Funcionarios</th>
        <th class="px-6 py-3 text-left text-xs font-semibold text-white tracking-wider">Setor</th>
        <th class="px-6 py-3 text-left text-xs font-semibold text-white tracking-wider">Porte</th>
        <th class="px-6 py-3 text-left text-xs font-semibold text-white tracking-wider">Lucro</th>
        <th class="px-6 py-3 text-left text-xs font-semibold text-white tracking-wider">Avaliação</th>
        <th class="px-6 py-3 text-left text-xs font-semibold text-white tracking-wider">Score</th>
        <th class="px-6 py-3 text-left text-xs font-semibold text-white tracking-wider">Multinacional</th>
        <th class="px-6 py-3 text-left text-xs font-semibold text-white tracking-wider">Faturamento anual</th>
        <th class="px-6 py-3 text-left text-xs font-semibold text-white tracking-wider">Idade</th>
        <th class="px-6 py-3 text-left text-xs font-semibold text-white tracking-wider">Quantidade de filiais</th>
        <th class="px-6 py-3 text-left text-xs font-semibold text-white tracking-wider">Matriz</th>
        <th class="px-6 py-3 text-left text-xs font-semibold text-white tracking-wider">Token / ID</th>
        <th class="px-6 py-3 text-left text-xs font-semibold text-white tracking-wider">Meta Dados</th>
        <th class="px-6 py-3 text-left text-xs font-semibold text-white tracking-wider">Ações</th>
    </tr>
    </thead>
    <tbody class="bg-white divide-y divide-gray-200">
      <tr 
        *ngFor="let lead of leads; let i = index"
        [class.bg-gray-50]="i % 2 === 0"
        class="hover:bg-blue-50 transition-colors duration-200"
      >
        <td class="pl-5">
          <img class="size-12 flex-none rounded-full bg-gray-50" [src]="lead.foto || 'https://cdn-icons-png.flaticon.com/512/813/813789.png'" alt="">
        </td>
        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800">
          {{ lead.nome || lead.Nome || '—' }}
        </td>
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">
          {{ lead.funcionarios || '—' }}
        </td>
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">
          {{ lead.setor || lead.Setor || '—' }}
        </td>
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">
          {{ lead.Porte || '—' }}
        </td>
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">
          {{ lead.lucro || '—' }}
        </td>
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">
          {{ lead.avaliacao || '—' }}
        </td>
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">
          {{ lead.score || '—' }}
        </td>
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">
          {{ lead.multinacional === true ? 'Sim' : lead.multinacional === false ? 'Não' : '—' }}
        </td>
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">
          {{ lead.faturamento_anual || '—' }}
        </td>
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">
          {{ lead.idade || '—' }}
        </td>
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">
          {{ lead.filiais || '—' }}
        </td>
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">
          {{ lead.matriz || '—' }}
        </td>
        <td class="px-6 py-4 whitespace-nowrap text-xs text-gray-600">
          <span class="font-mono block">{{ lead.token || lead.leadId || '—' }}</span>
        </td>
        <td class="px-6 py-4 whitespace-nowrap text-xs text-gray-600">
          {{ lead.empresa_plataforma_setor_tipo_data }}
        </td>
        <td class="px-6 py-4 whitespace-nowrap flex space-x-2">
          <!-- Ícone Editar -->
          <button (click)="abrirModalEditar(lead)" class="text-blue-500 cursor-pointer hover:text-blue-800" title="Editar"><i class="fas fa-edit"></i></button>
          <!-- Ícone Excluir -->
          <button (click)="excluirLead(lead)" class="text-red-500 cursor-pointer hover:text-red-800 ml-2" title="Excluir"><i class="fas fa-trash-alt"></i></button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
 <!-- this.leads | json {{}} -->

<!--

<div class="min-h-screen bg-gray-50 flex flex-col items-center py-12">
  <div class="w-full max-w-2xl bg-white rounded-2xl shadow-xl p-10">
    <div class="flex items-center justify-between mb-8">
      <h1 class="text-2xl font-bold text-gray-900">Dados e Perfil</h1>
      <button
        type="button"
        class="text-sm font-medium text-blue-700 bg-blue-50 hover:bg-blue-100 px-4 py-2 rounded-lg border border-blue-100 transition"
      >
        Atualizar senha
      </button>
    </div>

    <span class="block text-xs tracking-wide uppercase text-gray-400 font-semibold mb-6">
      dados integração 2talker
    </span>

    <form class="space-y-5" (ngSubmit)="salvar()">
      <div>
        <label for="token" class="block text-sm font-semibold text-gray-700 mb-1">token</label>
        <input
          id="token"
          [(ngModel)]="novoLead.token"
          name="token"
          type="text"
          required
          class="w-full px-3 py-2 border border-gray-300 rounded-lg outline-none focus:ring-2 focus:ring-blue-400"
        />
      </div>
      <div>
        <label for="leadId" class="block text-sm font-semibold text-gray-700 mb-1">id lead</label>
        <input
          id="leadId"
          name="leadId"
          [(ngModel)]="novoLead.leadId"
          required
          type="text"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg outline-none focus:ring-2 focus:ring-blue-400"
        />
      </div>
      <div>
        <label for="nome" class="block text-sm font-semibold text-gray-700 mb-1">nome</label>
        <input
          id="nome"
          [(ngModel)]="novoLead.Nome"
          name="nome"
          type="text"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg outline-none focus:ring-2 focus:ring-blue-400"
        />
      </div>
      <div>
        <label for="setor" class="block text-sm font-semibold text-gray-700 mb-1">setor</label>
        <input
          id="setor"
          [(ngModel)]="novoLead.Setor"
          name="setor"
          type="text"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg outline-none focus:ring-2 focus:ring-blue-400"
        />
      </div>
      <div>
        <label for="porte" class="block text-sm font-semibold text-gray-700 mb-1">porte</label>
        <input
          id="porte"
          [(ngModel)]="novoLead.Porte"
          name="porte"
          type="text"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg outline-none focus:ring-2 focus:ring-blue-400"
        />
      </div>

      <button
        type="submit"
        class="w-full mt-4 bg-blue-700 text-white font-bold py-2 rounded-lg hover:bg-blue-800 transition"
      >
        quantidade leads
      </button>
    </form>

    <div *ngIf="sucesso" class="mt-6 text-green-700 text-center font-semibold">{{ sucesso }}</div>
    <div *ngIf="erro" class="mt-6 text-red-600 text-center font-semibold">{{ erro }}</div>
  </div>

  <div class="w-full max-w-2xl mt-8 bg-white rounded-xl shadow p-8">
    <h2 class="text-lg font-semibold text-gray-800 mb-4">Metadados</h2>
    <ul class="space-y-2 text-xs text-gray-600">
    
    </ul>
  </div>
</div>-->

{{ leads | json }}


<!-- GRÁFICO - COMPARATIVO EMPRESAS -->
<div class="w-full max-w-4xl mx-auto mt-10 mb-10 bg-white rounded-xl shadow">
  <canvas
    baseChart
    [data]="barChartData"
    [options]="barChartOptions"
    chartType="bar">
  </canvas>
</div>